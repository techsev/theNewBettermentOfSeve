<div class="row projects-wrapper" ng-controller="Projects">
    <div class="col-xs-12">
        <h2>Most Recent Projects</h2>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-3 project project-[[project.acf.status]] project-[[project.slug]] project-[[project.ID]]" ng-repeat="(key, project) in projects" ng-click="open(project)">
        <div class="project-logo" style="background-image: url('[[project.acf.project_logo.sizes.medium]]')"></div>
        <div class="project-main-image" style="color:[[project.acf.project_color]];background-image: url('[[project.acf.project_main_image.sizes.large]]')">
            <img src="/wp-content/uploads/2015/07/rc-watermark.png" alt="RC design" ng-show="project.acf.parent_employer == 'rcdesign'" class="watermark watermark-rcdesign">
        </div>
        <div class="project-description">
            <h4 class="project-type">[[project.acf.project_type]]</h4>
            <h5 class="project-keywords">[[project.acf.project_tags]]</h5>
        </div>
    </div>
    <script type="text/ng-template" id="projectModal.html">
        <button class="btn btn-primary" ng-click="ok()">X</button>
        <div class="modal-body" style="color: [[projectColor]]">
            <div class="project-border"></div>
            <div class=" row ">
                <div class="col-xs-12 website-screenshot ">
                    <img ng-src="[[currentProject.acf.website_screenshot.sizes.large]] " alt="[[currentProject.title]] ">
                </div>
                <div class="col-xs-12 website-name-and-role ">
                    <h3>[[currentProject.title]]</h3>
                    <h4><span>Role:</span> [[currentProject.acf.project_role]]</h4>
                    <p>[[currentProject.acf.project_tags]]</p>
                </div>
                <div class="col-xs-12 project-content " ng-bind-html="projectContent ">
                </div>
            </div>
            <div class="content-blocks ">
                <div class="project-section-wrapper row " ng-repeat="(key, block) in currentProject.acf.project_content_blocks " ng-switch="block.block_layout ">
                    <div class="project-section " ng-switch-when="leftImage ">
                        <div class="col-sm-3 leftImageWrapper ">
                            <img ng-src="[[block.image.sizes.medium]] " alt=" ">
                        </div>
                        <div class="col-sm-9 rightContentWrapper" ng-bind-html="block.content | to_raw ">
                        </div>
                    </div>
                    <div class="project-section " ng-switch-when="rightImage ">
                        <div class="col-sm-9 leftContentWrapper" ng-bind-html="block.content | to_raw "></div>
                        <div class="col-sm-3 rightImageWrapper ">
                            <img ng-src="[[block.image.sizes.medium]] " alt=" ">
                        </div>
                    </div>
                    <div class="project-section " ng-switch-when="topImage ">
                        <div class="col-md-12 topImageWrapper ">
                            <img ng-src="[[block.image.sizes.large]] " alt=" ">
                        </div>
                        <div class="col-md-12 " ng-bind-html="block.content | to_raw "> </div>
                    </div>
                </div>
            </div>
        </div>
</div>
</script>
<script type="text/ng-template " id="template/modal/window.html ">
    <div modal-render="{{$isRendered}} " tabindex="-1 " role="dialog " class="modal " modal-animation-class="animated " ng-class="{fadeIn: animate} " ng-style="{ 'z-index': 1050 + index*10, display: 'block' } " ng-click="close($event) ">
        <div class="modal-dialog " ng-class="size ? 'modal-' + size : '' ">
            <div class="modal-content " modal-transclude></div>
        </div>
</script>
</div>
