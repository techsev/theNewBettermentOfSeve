myLocalized={views:"http://thebettermentofseve.com/wp-content/themes/thenewbetterment/views/",directives:"http://thebettermentofseve.com/wp-content/themes/thenewbetterment/directives/"};var $_global={initialLoad:!0,loadRouteExtension:function(e){"use strict";return this.initialLoad?"views/"+e+".onload":myLocalized.views+e+".html"}};angular.module("theNewBetterment",["ngRoute","ui.bootstrap","wordpressFilters","smoothScroll"],["$interpolateProvider",function(e){e.startSymbol("[["),e.endSymbol("]]")}]).config(["$routeProvider","$locationProvider",function(e,t){t.html5Mode(!0),e.when("/",{templateUrl:function(){return $_global.loadRouteExtension("front-page")},controller:"Main",resolve:{postData:["$q","$route","$http",function(e,t,n){var o=e.defer();return $_global.initialLoad?o.resolve("Initial Page load, using server render"):n.get("/wp-json/posts?filter[posts_per_page]=2").success(function(e,n,r,i){var a={currentPage:t.current.params.page,numPages:r("X-WP-TotalPages"),posts:e};o.resolve(a)}),o.promise}]}}).when("/page/:page",{templateUrl:function(){return $_global.loadRouteExtension("front-page")},controller:"Main",resolve:{postData:["$q","$route","$http",function(e,t,n){var o=e.defer();return $_global.initialLoad?o.resolve("Initial Page load, using server render"):n.get("/wp-json/posts?filter[posts_per_page]=1&page="+t.current.params.page).success(function(e,n,r,i){var a={currentPage:t.current.params.page,numPages:r("X-WP-TotalPages"),posts:e};o.resolve(a)}),o.promise}]}})}]).controller("Main",["$scope","$location","$log","postData","smoothScroll",function(e,t,n,o,r){var i=document.getElementById("frontpage-post-top"),a={duration:200,easing:"easeInQuad",offset:50};$_global.initialLoad=!1,e.posts=o.posts,e.currentPage=o.currentPage,e.numPages=o.numPages,e.isViewLoading=!1,e.$on("$routeChangeStart",function(){e.isViewLoading=!0,r(i,a)}),e.$on("$routeChangeSuccess",function(){e.isViewLoading=!1,ga("send","pageview",{page:t.path()})}),e.$on("$routeChangeError",function(){e.isViewLoading=!1}),e.showFullPost=function(t){e.expandedPost=e.expandedPost!=t?t:null}}]).controller("Projects",["$scope","$modal","$log","$http",function(e,t,n,o){o.get("/wp-json/posts?type[]=project").success(function(t){e.projects=t}).error(function(e,t){console.log(e)}),e.projectId=null,e.open=function(n){if("live"==n.acf.status){var o=t.open({animation:!0,templateUrl:"projectModal.html",controller:"projectModal",size:"lg",resolve:{project:function(){return n}}});o.result.then(function(t){e.selected=t},function(){})}}}]).controller("projectModal",["$scope","$modalInstance","$log","$sce","project",function(e,t,n,o,r){e.projectId=r.ID,e.projectColor=r.acf.project_color,e.currentProject=r,e.projectContent=o.trustAsHtml(r.content),ga("send","pageview",{page:"/virtual/modal/"+r.slug}),e.ok=function(){t.close()}}]).directive("frontPageProjects",[function(e){return{restrict:"E",replace:!0,templateUrl:myLocalized.directives+"frontpage-projects.html",link:function(e,t,n){}}}]).directive("siteTitle",[function(e){return{restrict:"E",replace:!0,template:'<div class="title-wrapper"><h1 class="site-name">The NEW Betterment of Seve</h1> <h2 class="tag-line">The continued chronicles of my self-improvement.</h2></div>',link:function(e,t,n){jQuery(document).ready(function(e){e(t).find("h1.site-name").lettering("words").children("span").lettering(),e(t).find("h1.site-name").fitText(1.05,{}),e(t).find("h2.tag-line").fitText(4.5,{})})}}}]),angular.module("wordpressFilters",[]).filter("to_raw",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("to_text",["$sce",function(e){return function(t){return e.trustAsHtml(String(t).replace(/<[^>]+>/gm,""))}}]).filter("to_text_excerpt",["$sce",function(e){return function(t,n){var o=String(t).replace(/<[^>]+>/gm,"").substr(0,n);return o.length==n&&(o+="&hellip;"),e.trustAsHtml(o)}}]),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],o=n.length,r=window.console=window.console||{};o--;)e=n[o],r[e]||(r[e]=t)}(),function(e){e.fn.fitText=function(t,n){var o=t||1,r=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var t=e(this),n=function(){t.css("font-size",Math.max(Math.min(t.width()/(10*o),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize)))};n(),e(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),function(e){function t(t,n,o,r){var i=t.text(),a=i.split(n),s="";a.length&&(e(a).each(function(e,t){s+='<span class="'+o+(e+1)+'" aria-hidden="true">'+t+"</span>"+r}),t.attr("aria-label",i).empty().append(s))}var n={init:function(){return this.each(function(){t(e(this),"","char","")})},words:function(){return this.each(function(){t(e(this)," ","word"," ")})},lines:function(){return this.each(function(){var n="eefec303079ad17405c889e092e105b0";t(e(this).children("br").replaceWith(n).end(),n,"line","")})}};e.fn.lettering=function(t){return t&&n[t]?n[t].apply(this,[].slice.call(arguments,1)):"letters"!==t&&t?(e.error("Method "+t+" does not exist on jQuery.lettering"),this):n.init.apply(this,[].slice.call(arguments,0))}}(jQuery);
//# sourceMappingURL=app.min.js.map